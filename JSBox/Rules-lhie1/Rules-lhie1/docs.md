### Rules-lhie1脚本使用简介

#### 主界面名词
- 去广告：加载去广告规则（现有总规则6000+）
- 开启MITM：不选中则不使用MITM证书，选中后默认使用lhie1的证书（CA 4B676386），可以在进阶设置中进行自定义
- 节点后缀：用于在节点后添加UDP、TFO和插件等功能
- 导出配置：采用Action Sheet将.conf配置文件导出，不打开则尝试直接导出配置文件到Surge 3
- 进阶设置：可自行配置常规（General）、代理分组（Proxy Group）、代理规则（Custom Rule）、本地DNS映射（Host）、URL重定向（URL Rewrite）、Header修改（Header Rewrite）、SSID、主机名（Hostname）和配置根证书（MITM），也可一键还原全部进阶设置
- 生成配置：拉取规则生成.conf配置文件

#### 节点导入编辑
> 这是脚本的一个特点，可以对节点进行编辑筛选等操作。

- 导入、更新：可以通过剪贴板或二维码导入，支持``ss://链接``、``Surge链接``和``托管地址``，支持批量导入（每行一个）
- 倒序：将节点顺序颠倒，方便不同机场节点选择
- 占位符：为策略组添加占位符，默认Auto组的占位符是ProxyHeader
- 特殊代理：节点左滑即可将节点设置为某些链接的特殊代理，按钮可以设置Direct、查看设置和清除特殊代理设置
- 节点删除：在节点列表左滑选择删除
- 节点重命名：节点列表左滑选择重命名（方便部分不带节点名节点改名）
- 节点排序：节点列表长按拖动即可调整顺序

#### 新手指导
熟悉以上内容后，只需根据自己的需求，导入节点，在列表中选择测速节点，选中开关，拉取规则生成即可享受最新的lhie1规则，而且在托管没有发生变化的情况下，每次进入脚本都可以直接拉取生成最新规则不需要重新配置。

#### 进阶设置
> 进阶设置配置完毕后即可自动保存

- 常规（General）：常规配置内容，可以设置DNS、Replica等内容
- 代理分组（Proxy Group）：配置代理组内容，每个组别都可以通过``Proxy Header（有空格）``代表所有节点名，``ProxyHeader（无空格）``代替Auto节点名
- 代理规则（Custom Rule）：自定义规则配置，将需要添加的规则添加到规则的最上面，如果要删除lhie1的规则，在规则前添加``-``即可，添加的优先级较高
- 本地DNS映射（Host）：自定义本地DNS映射
- URL重定向（URL Rewrite）：自定义URL重定向
- Header修改（Header Rewrite）：自定义Header修改
- SSID：自定义SSID
- 主机名（Hostname）：自定义主机名
- MITM：用于配置根证书，默认为lhie1的证书（CA 4B676386），也可自行配置

注：
1.以上进阶设置请在“知道自己在做什么”的情况下修改；
2.如果信息填错导致Surge无法启动，可以将对应部分清空保存即可自动恢复为默认，也可一键还原全部进阶设置。

#### JSBox小组件
> 可在iOS的Widget页面中添加使用，使用前需先在JSBox的小组件设置中选中该脚本。小组件视图高度可考虑设置为120。

- Surge3启动/停止运行（红色Surge3图标）：利用Surge3提供的URL Scheme，可做到Surge3一键启动/停止运行
- 生成配置（绿色下载图标）：一键生成配置，并根据个人脚本中的设置，自动执行导出到Surge3或者打开导出配置的系统选单
- 打开脚本（蓝色JSBox图标）：从小组件进到该JSBox脚本的主界面

> 当规则有更新时小组件会有角标提醒及更新内容提示

#### URL Scheme
脚本支持自动根据配置拉取最新规则，URL Scheme如下：
```
jsbox://run?name=Rules-lhie1&auto=1
```

#### 最后
目前该JSBox脚本只支持生成Surge3的配置，生成配置的各项功能已经能替代大部分的Workflow的自定义功能。

如觉得这个脚本好用，愿意打赏，感激不尽。
